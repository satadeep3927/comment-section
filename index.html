<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Comment system with google spread sheet</title>
</head>
<body>
    <nav class="navbar container navbar-expand-lg navbar-light bg-white">
        <a class="navbar-brand" href="#">Satadeep Dasgupta</a>
      </nav>
      <hr/>
      <div class="container"><div class="text"><h1 class="heading">Build a Comment system with javascript and Google Spread sheet</h1><h5 class="semi-heading">You don't need a backend language to build comment section for your Website... (scroll-down to see)</h5></div><img src="main.jpg" alt="">
        <div class="text">
          
          <p class="text-container">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse vehicula rhoncus nulla. Proin suscipit sagittis arcu, eget bibendum eros aliquet ac. In luctus tincidunt tincidunt. Sed interdum iaculis urna. Nullam mollis est odio, non imperdiet nisl feugiat at. Etiam id sem enim. Fusce efficitur condimentum ante at sagittis. Ut a lorem quam. Vivamus sit amet est sit amet est elementum dignissim vitae quis ipsum. Sed risus ipsum, efficitur eu pulvinar ac, maximus ac eros. Mauris blandit quam non nisi bibendum, quis finibus nulla posuere. Fusce facilisis scelerisque nisl non eleifend. Curabitur tristique, sapien ut tempor suscipit, magna erat auctor massa, porta scelerisque tellus sapien in felis. Nam mauris metus, fringilla ut est in, egestas pulvinar metus.

            Cras arcu tellus, convallis vitae commodo non, dictum id eros. Duis id eleifend lorem, non auctor tortor. Praesent mollis rutrum mi non venenatis. Donec vitae blandit turpis. Nulla vitae bibendum dolor. Nam purus erat, luctus id libero eget, laoreet malesuada odio. Duis commodo velit at vestibulum sollicitudin. Nulla egestas eget nisl eu eleifend. Duis eu dapibus nibh.
            
            Nullam tristique nisl at laoreet tincidunt. Phasellus nec tortor quam. Sed mollis iaculis urna, id lobortis mi interdum non. In diam velit, sollicitudin at venenatis ut, condimentum non orci. Nunc a magna scelerisque, cursus velit in, tincidunt sapien. Vestibulum iaculis consequat sapien, vel commodo est vestibulum at. Praesent porta et ante sed mollis. Mauris feugiat mauris quis iaculis iaculis. Nam pretium sed lorem ac rutrum. Donec sodales, arcu rutrum tempus facilisis, nunc purus vulputate justo, eget tempor purus dolor sit amet ligula. Fusce feugiat maximus libero, et sagittis neque lacinia non. Morbi odio turpis, ornare nec nisi consequat, ultrices ornare arcu.
            
            Nullam cursus sapien dictum augue pretium rhoncus. Proin fringilla, metus id molestie ultricies, felis metus fermentum massa, eu accumsan elit neque sit amet massa. Aenean in placerat purus. Quisque molestie purus sed lacus imperdiet vestibulum. Aliquam erat volutpat. Donec nec dolor in metus rutrum porta molestie nec nisl. In gravida metus ac tellus condimentum laoreet. Aliquam ullamcorper elementum ex sed malesuada. Proin fermentum, nibh vitae vestibulum pharetra, mauris elit ullamcorper risus, sodales cursus enim metus tempor dolor.
            
            Cras mollis arcu vel quam efficitur faucibus. Aenean finibus metus et purus rutrum, eget molestie dolor aliquet. Cras viverra, odio feugiat condimentum imperdiet, ipsum justo vulputate magna, sed venenatis diam tellus at enim. Duis mauris nisi, pulvinar ac gravida vel, sagittis vitae velit. Donec tempus nulla a urna dignissim suscipit. In et tempus velit, ac consequat magna. Nullam dapibus egestas tellus, ut tristique felis pretium ac. Nunc cursus volutpat orci.</p>
            <div class="mb-5"><span class="clap-btn mr-4"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg> 132</span><a href="#" class="navbar-brand comment-button"><svg width="25" height="25" class="r" aria-label="responses"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></a></div>
            <div><span class="badge badge-dark">Javascript</span><span class="badge badge-dark">html5</span></div>
          </div>

      <div class="comment-container hide">
        <h5 class="d-inline">Responses</h5><span class="close-btn">&times;</span>
        <form autocomplete="off" name="comment-form" id="comment-form">
          <div class="form-group">
            <input type="text" class="form-control shadow-none" name="cName" id="cName" placeholder="Your Name..." required>
          </div>
          <div class="form-group">
            <input type="text" class="form-control shadow-none" name="cComment" id="cComment" placeholder="What are your thought?" required>
          </div>
          <button type="submit" class="btn btn-success shadow-none submit">Respond</button>
        </form>
        <div class="comments">
          
        </div>
      </div>
      </div>
   <div class="drop-shadow"></div> 
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>  
    <script src="http://www.datejs.com/build/date.js" type="text/javascript" ></script>
    <script>
      $('.drop-shadow').on('click',function(){
        $('.comment-container').addClass('hide');
        $(this).css('display','none');
      })
      $('.comment-button').on('click',function(){
        $('.comment-container').removeClass('hide');
        $('.drop-shadow').css('display','block');
      })
      $('.close-btn').on('click',function(){
        $('.comment-container').addClass('hide');
        $('.drop-shadow').css('display','none');
      })
      $('#comment-form').on('submit',function(event){
        const form = document.forms['comment-form'];
        $('.submit').text('submitting...');
    fetch('https://script.google.com/macros/s/AKfycbw4H6MSZ83fMMa2OtoDoMtemr-xoY8BaLU-mF4RJNcBhLEpnbt22KPr/exec', {
        method: 'POST',
        // We convert the React state to JSON and send it as the POST body
        body: new FormData(form),
        mode:'no-cors'
      }).then((response)=> {
        $('.submit').text('submitted');
        var mydate = new Date();
        var month = ['Jan','Feb','Mar','Apr','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
        var date = mydate.getDate()+' '+month[mydate.getMonth()]+', '+mydate.getFullYear();
        var name = $('#cName').val();
        var comment = $('#cComment').val();
        $('.comments').prepend('<div class="main-comment">'+'<div class="prof-contain">'+'<img class="prof my-auto" src="user.png" width="20px" height="20px"alt="">'+'<div>'+'<b class="name">'+name+'</b>'+'<span class="d-block timestamp">'+date+'</span>'+'</div>'+'</div>'+'<p>'+comment+'</p>'+'</div>');

      });
event.preventDefault();

      });
      $.get('https://spreadsheets.google.com/feeds/list/18BguY27zh1S0cEASx6Apwdyvny0H7GtgfRFgZOtuKpc/od6/public/values?alt=json',
      function(data){
        var Data = data.feed.entry;
        for(var i=0; i<Data.length; i++){
        var mydate = new Date(Data[i]['gsx$timestamp']['$t']);
        var month = ['Jan','Feb','Mar','Apr','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
        var date = mydate.getDate()+' '+month[mydate.getMonth()]+', '+mydate.getFullYear();
        var name = Data[i]['gsx$cname']['$t'];
        var comment = Data[i]['gsx$ccomment']['$t'];
        $('.comments').prepend('<div class="main-comment">'+'<div class="prof-contain">'+'<img class="prof my-auto" src="user.png" width="20px" height="20px"alt="">'+'<div>'+'<b class="name">'+name+'</b>'+'<span class="d-block timestamp">'+date+'</span>'+'</div>'+'</div>'+'<p>'+comment+'</p>'+'</div>')
        }
      })
    </script>
</body>
</html>